/** *  创建者： THB *  日期：2020/4/9 *  公告，消息一类接口 */const hdw = require('../../../../common/handlerMiddleWare');class NoticeHandler {    constructor(app) {        this.app = app;    }    async hallNotice(params, session, next) {        let data = await DBTOOLS.getHallNotice();        if (data) {            next(null, {code: STATE_CODE.OK, result: data});        } else {            next(null, {                code: STATE_CODE.OK, result: {                    msg: "没有任何公告"                }            });        }    }    async complaint(params, session, next){        if (params.type === undefined || !params.remark.trim()) {            return next(null, {code: STATE_CODE.lackOfParameters});        }        await DBTOOLS.insertComplaint(session.uid, params.type || 0, params.remark.trim());        next(null, {code: STATE_CODE.OK});    }}module.exports = function (app) {    // return new NoticeHandler(app);    return hdw.handlerMiddleware(app, NoticeHandler, hdw.checkUid);};