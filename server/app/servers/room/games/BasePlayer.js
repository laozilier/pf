/** * Created by apple on 2017/11/1. * */class BasePlayer extends require("../../../../common/TimeoutClass"){    constructor(main){        super();        this._main = main;        this.uid = 0;        this.score = 0;         //最后的结果分数        this.holds = [];        this.halfwayScore = 0;  //中途的分数        /**         * 托管         * @type {boolean}         */        this.isTrusteeship = false;    }    /**     * main 对象     * @returns {*}     */    get main(){ return this._main;}    send(event, msg){        this._main.send(this.uid, event, msg);    }    sendAll(event, msg, noMe) {        if (!!noMe) {            this._main.room.players.forEach((p) => {                if (p.uid !== this.uid) {                    p.send(event, msg);                }            });        } else {            this._main.sendAll(event, msg);        }    }    /**     * 获取幸运值     * @returns {number}     */    getLucky(){        let player = this._main.room.player(this.uid);        if(player){            return player.lucky;        }        return 0;    }    setTrusteeship(status) {        this.isTrusteeship = status;    }    /**     * 是否机器人 true = 是  false = 不是     * @returns {boolean}     */    getRobot(){        let player = this._main.room.player(this.uid);        if(player){            return player.isRobot;        }        return false;    }    /**     * 获取玩家总分数  已经减去抽底的费用     * @returns {number}     */    getTotalScore(){        let player = this._main.room.player(this.uid);        if(player){            return player.getActualScore();        }        return 0;    }    /**     * 获取持久层对象     * @returns {Object}     */    getLasting(){        return this.main.getLasting();    }    onDestroy() {        super.onDestroy();        this._main = undefined;    }}module.exports = BasePlayer;